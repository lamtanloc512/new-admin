<!--
 ~ Copyright 2022 youngmonkeys.org
 ~ 
 ~ Licensed under the ezyplatform, Version 1.0.0 (the "License");
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~ 
 ~     https://youngmonkeys.org/licenses/ezyplatform-1.0.0.txt
 ~ 
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an "AS IS" BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
-->

<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <nav
      th:fragment="header"
      class="topbar-custom d-flex justify-content-between"
      id="topbar-custom"
    >
      <ul
        class="topbar-item list-unstyled d-inline-flex align-items-center mb-0"
      >
        <li>
          <button class="nav-link mobile-menu-btn nav-icon" id="togglemenu">
            <i class="iconoir-menu"></i>
          </button>
        </li>
        <li class="mx-2">
          <a
            th:href="${ezyplatformUrl + '/contact-us'}"
            class="btn btn-sm btn-soft-primary"
            role="button"
            >[[#{home}]]</a
          >
        </li>
      </ul>
      <ul
        class="topbar-item list-unstyled d-inline-flex align-items-center mb-0"
      >
        <li class="hide-phone app-search">
          <form role="search" action="#" method="get">
            <input
              id="globalSearchInput"
              type="search"
              name="search"
              th:placeholder="#{search}"
              class="form-control bg-light top-search mb-0"
              onkeydown="ezyadmin.onKeyDownToGoToGlobalSearch();"
            />
            <button type="submit" onclick="ezyadmin.goToGlobalSearch();">
              <i class="iconoir-search"></i>
            </button>
          </form>
        </li>
        <li class="dropdown">
          <a
            class="nav-link dropdown-toggle arrow-none nav-icon"
            data-bs-toggle="dropdown"
            href="#"
            role="button"
            aria-haspopup="false"
            aria-expanded="false"
            data-bs-offset="0,19"
          >
            <img
              src="/images/flags/us_flag.jpg"
              alt=""
              class="thumb-sm rounded-circle"
            />
          </a>
          <div class="dropdown-menu">
            <th:block th:each="adminLanguage, iterator : ${adminLanguages}">
              <a
                class="dropdown-item"
                th:attr="onclick=|ezyadmin.onLanguageSelected('${adminLanguage.code}')|"
                >[[${adminLanguage.name}]]</a
              >
            </th:block>
          </div>
        </li>
        <!--end topbar-language-->

        <li class="topbar-item">
          <a
            class="nav-link nav-icon"
            href="javascript:void(0);"
            id="light-dark-mode"
          >
            <i class="iconoir-half-moon dark-mode"></i>
            <i class="iconoir-sun-light light-mode"></i>
          </a>
        </li>

        <li class="dropdown topbar-item">
          <a
            class="nav-link dropdown-toggle arrow-none nav-icon"
            data-bs-toggle="dropdown"
            href="#"
            role="button"
            aria-haspopup="false"
            aria-expanded="false"
            data-bs-offset="0,19"
          >
            <i class="iconoir-bell"></i>
            <span class="alert-badge"></span>
          </a>
          <div class="dropdown-menu stop dropdown-menu-end dropdown-lg py-0">
            <h5
              class="dropdown-item-text m-0 py-3 d-flex justify-content-between align-items-center"
            >
              Notifications
              <a href="#" class="badge text-body-tertiary badge-pill">
                <i class="iconoir-plus-circle fs-4"></i>
              </a>
            </h5>
            <ul
              class="nav nav-tabs nav-tabs-custom nav-success nav-justified mb-1"
              role="tablist"
            >
              <li class="nav-item" role="presentation">
                <a
                  th:id="messageListDropdownMenuSeeAllMessages"
                  class="nav-link mx-0 active"
                  data-bs-toggle="tab"
                  th:href="${seeAllMessagesUrl}"
                  role="tab"
                  aria-selected="true"
                >
                  [[#{see_all_messages}]]
                  <span
                    id="messageListDropdownMenuBadgeCount"
                    class="badge bg-primary-subtle text-primary badge-pill ms-1"
                    >[[${messageListDropdownMenuMessageCount}]]</span
                  >
                </a>
              </li>
            </ul>

            <li
              class="dropdown topbar-item"
              th:if="${adminRoles.isAccessible('/admins/me')}"
            >
              <a
                class="nav-link dropdown-toggle arrow-none nav-icon show"
                data-bs-toggle="dropdown"
                href="/admins/me"
                role="button"
                aria-haspopup="false"
                aria-expanded="true"
                data-bs-offset="0,19"
                onclick="ezyadmin.showProfile();"
              >
                <img
                  th:src="${avatarImage != null ? avatarImage.getMeUrlOrDefault('') : '#'}"
                  alt="user Image"
                  id="mainAdminAvatar"
                  class="thumb-md rounded-circle"
                />
                <div
                  id="mainAdminAvatarTmp"
                  th:classappend="${avatarImage == null ? '' : 'd-none'}"
                  th:text="${#strings.capitalize(admin != null ? admin.getName().charAt(0) : 'A')}"
                  class="rounded-circle avatar-tmp main-avatar-tmp mx-0"
                ></div>
              </a>
            </li>
          </div>
        </li>
      </ul>
      <!--end topbar-nav-->
    </nav>
  </body>
</html>
