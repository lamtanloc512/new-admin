<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <div th:fragment="avatar" class="card px-2 py-2">
      <style>
        .mt-n5 {
          top: -60px;
        }
        .wh-100px {
          width: 100px;
          height: 100px;
        }
        .coverImage {
          width: 100%;
          object-fit: cover;
          height: 300px;
        }
      </style>
      <div
        class="image-button"
        id="mainAdminCoverImageContainer"
        th:classappend="${adminCoverImage != null ? '' : 'd-none'}"
      >
        <img
          id="adminCoverImage"
          class="coverImage"
          th:classappend="${adminCoverImage != null ? '' : 'd-none'}"
          th:if="${selectedAdmin.id == adminId || adminRoles.isAccessible('/api/v1/media/{name}')}"
          th:src="${adminCoverImage != null ? (selectedAdmin.id == adminId ? adminCoverImage.getMeUrlOrDefault('') : adminCoverImage.getUrlOrDefault('')) : '#'}"
        />
        <button
          type="button"
          id="editCoverImageButton"
          onclick="ezyadmin.selectAdminCoverImage();"
          th:if="${selectedAdmin.id == adminId}"
        >
          <i class="fas fa-pencil-alt"></i>
        </button>
      </div>
      <div class="card-body mt-n5">
        <div class="row align-items-center">
          <div class="col">
            <div class="d-flex align-items-center">
              <div class="image-button wh-100px mb-0">
                <img
                  id="adminAvatarImage"
                  class="rounded-circle object-fit-cover"
                  width="100"
                  height="100"
                  th:classappend="${adminAvatarImage != null ? '' : 'd-none'}"
                  th:if="${selectedAdmin.id == adminId || adminRoles.isAccessible('/api/v1/media/{name}')}"
                  th:src="${adminAvatarImage != null ? (selectedAdmin.id == adminId ? adminAvatarImage.getMeUrlOrDefault('') : adminAvatarImage.getUrlOrDefault('')) : '#'}"
                />
                <div
                  id="adminAvatarImageTmp"
                  class="text-uppercase rounded-circle avatar-tmp wh-100px"
                  th:classappend="${adminAvatarImage != null ? (selectedAdmin.id == adminId ? 'd-none' : (adminRoles.isAccessible('/api/v1/media/{name}') ? 'd-none' : '')) : ''}"
                >
                  [[${selectedAdmin.name.charAt(0)}]]
                </div>
                <button
                  type="button"
                  id="editAvatarButton"
                  class="rounded-circle"
                  onclick="ezyadmin.selectAdminAvatarImage();"
                  th:if="${selectedAdmin.id == adminId}"
                >
                  <i class="fas fa-pencil-alt"></i>
                </button>
              </div>
              <div class="flex-grow-1 text-truncate ms-3 align-self-end">
                <h5
                  class="m-0 fs-3 fw-bold"
                  th:text="${selectedAdmin.displayName != null ? selectedAdmin.displayName : selectedAdmin.username}"
                >
                  User
                </h5>
                <p class="text-muted mb-0">@[[${selectedAdmin.username}]]</p>
              </div>
              <!--end media body-->
            </div>
            <!--end media-->
            <div class="mt-3">
              <div class="text-muted mb-2 d-flex align-items-center">
                <i class="iconoir-user-scan fs-20 me-2 text-muted"></i>
                <span class="text-muted fw-semibold">
                  ID: [[${selectedAdmin.id}]]
                </span>
              </div>
              <div
                th:if="${selectedAdmin.email != null}"
                class="text-muted mb-2 d-flex align-items-center"
              >
                <i class="iconoir-mail-out fs-20 me-2"></i
                ><span>Email: </span><span class="text-muted fw-semibold me-2"></span>
                <a href="#" class="text-primary text-decoration-underline"></a>
                  [[${selectedAdmin.email}]]</a
                >
              </div>
              <div
                th:if="${selectedAdmin.phone != null}"
                class="text-muted mb-4 d-flex align-items-center"
              >
                <i class="iconoir-phone fs-20 me-2 text-muted"></i>
                <span class="text-muted fw-semibold">
                  Phone: [[${selectedAdmin.phone}]]
                </span>
              </div>

              <div class="text-body mb-3 d-flex align-items-center">
                <i class="iconoir-mastercard-card fs-20 me-2 text-muted"></i>
                <span class="text-muted fw-semibold">
                  UUID: [[${selectedAdmin.uuid}]]
                </span>
              </div>
              <a
                th:if="${adminRoles.isAccessible('/admins/me/edit')}"
                role="button"
                type="button"
                href="/admins/me/edit"
                class="btn btn-primary d-inline-block"
              >
                Edit
              </a>
            </div>
          </div>
          <!--end col-->
        </div>
        <!--end row-->
      </div>
    </div>
  </body>
</html>
